**Здесь переводится видео в статью Константина Назарова из Tarantool "Как сделать PaaS при помощи Docker, Consul и обвязки на Python"**

Ссылка на видеодоклад https://www.youtube.com/watch?v=yLp3JVX7Ypk

**Текст сделан из субтитров. Буду очень благодарен в форматировании текста, его вычитки. Для этого достаточно знать русский язык.
Присылайте свои pull request или присылайте текст на почту patsev.anton[собака]gmail.com**

привет потому что года я буду рассказывать немножко более приземлённо на самом деле многие из вас будут свои собственные оркестра на но регистратор это быстрота ради накопить на шее и и делаю доски-то быстро обратно пальцев который выбирает расход довести продаж моя цель сегодня рассказать показать скажем такой архитектурный пример котором я пришел в почему простой позволяет сделать освещение быстро буквально за три недели силами одного разработчика он не мудро вляет всех возможных задач но он позволяет вам решить конкретно ваша задача 2 вас есть зачем нам надо будет нужна но по крайней мере вы будете знать что такое пока существует и можете при использовать мой опыт когда нам может понадобиться свой собственный оркестр атор ну например когда у нас есть один из масштабировать собственные applications может быть вы справитесь простыми инструментами если у вас есть доступ ко благу но в этом что если просто book около колбаски последствии персонажами за на виртуальный хостинг вам нужно масштабировать а специфические время пошла собственно почему они выбирать другие решения интернете со других потому что вы в основном из-за сложности поддержки вашего тела кто то просто помнишь а если у вас мало где это с возможно старта просто не по разработке и вы не хотите конкретным света это то что я хочу сказать готовить нашу систему принципе достаточно сделать не особенно любых риска питоном поэтому не использовала я считаю что такого простого проекта что может быть многие знают что докера есть кому блайндов и этот параметр здесь подключается докера по обычным гексавит вы не все знают например только колледж с кристально чист . а к этому демон и в принципе веснины доступны извне то есть вы можете повесить докер на все писатель и делилась с ним можно только что делает самые интересные моменты может сносить через тысячи теперь и вы можете там где он произвольных команд этим экзо копировать может все то что нужно для докопаться до кастрации это и лидируем строительным блокам что еще может быть опять так должностными лицами цельные пряности резиной но этот сожалению частью в последней версии докер которое пришло на продакшена перестал пальцами вот то есть я приду если хотите использовать так как прочна и подумать о чем на 5 6 вот именно сейчас я не знаю это последние несколько месяцев большинство про закрывание что там был никому не расскажу что это такое в сущности это склеенные решение одно решение хранение информации ваша игра он имеет еще делать чике-таман пленочная проверять и вы можете подписаться и другие события а это не слишком он содержит если можно сказать о этом это поддержки хорошо примерно от проверки который делает все разваливалось поддерживает бесшумную перезагрузку или большинстве случаев как и lillypond представьте себе что каждое . на этом графике это марсе и держи штуки это unspoken есть и обычно таких главного с момента которые хранят и синхронизировать между собой информацию а остальные просто участвует образует такой мир которых все запросы странно чем вот эти два средства мы будем использовать докер iconsmall а первый самый простой вариант который вы можете набросать очень быстро это онлайн интерфейс я предлагаю вам не делать никаких демонов просто написать и dark искать что это ты должен делать самое первое он должен нужно пускать ваш сервис я следую соглашением докер клин делал с просим похожему вот например договориться мой баз и steam key он может посмотреть посмотреть где находится в сущности самый простой вариант который требуется запускать просматривать и удалять дизайна стоит потому что неплохой разработчик и второе состояние просто хранить информацию о ваших сервис чтобы поставить и сказать это можно указать на какой оператор должен принимать решение все начинается с самовар быстро таро вот здесь он идиот он знает только об одной точке она с которой расположен смагина dex вот здесь он обращается фон сигарет курсом по 1 выдает список всех докеров всех таких сервисов которая присутствует консул возвращает адрес у всех вот этих tockers после этого мы запрашиваем у нашего посла уже запущен и расположение всех наших сервис это же после должна принять решение сколько и где у нас истоки где теперь можете сделать очень простым способом решения о том где вы идете скажем я хочу чтобы вы идете через машину у меня остались между ними вот сущности пару слов если вы знаете что и это проблема для маленького опасно и еще большие проблемы если бы первая причина почему а быстро сложился если у вас есть склоним поставите себя посмотрите использовать пользуясь он потому что хочешь немного извести и я знаем что есть люди которые передаются и документации но вы можете за прижимать внутренне и внешне интерфейс а своего физического hasta внутрь свет кита кармане ну и вообще в любой день чистки в докере которая вас есть таким образом вы можете на от твоих отвозить вместе все свои контейнеры таким образом у вас получится что контейнеры будут иметь прямое падение другие том питерс ну в той же самой все что вам нужно настроить одинаковую сетку докер 0 вот и позаботиться о том чтобы их адреса которого вашим кампаниям выделяете чтобы они не пересекались плюс концов того что использую можете демонстрировать адреса автоматический капучинатор а использовать табличку внутри японском когда для того чтобы хранить эти диапазоны хранить информацию и я сделал очень долгое время сожалению этот подход не работает вам азотом потому что в мосуле нет доступа простого доступ все сделаны через роутер поэтому и работу ног внутри когда у вас есть интернет и есть обычные физически серебра такой подхода работает очень хорошо как бонус у вас получается почки проставить чего не нужно делать вопрос самостоятельно но это образ пускай меньше из золота толеран доступно и что хорошо это делает отладку социальным проблемам очень простое потому что вы скорее с большей вероятностью разберетесь почему у вас не работает волос на чем на парком выясните что у вас не работает выяснить из за того что там отвалилась одна нота он стресса это видится механизировать контейнер формы тоже случается отход номер два просто сделали так как не вы наверняка захотите разделить его с другом восхищаться проблема которого такого порядка что первых у вас раз может случиться что вы начинаете делать но это же у вас может быть задач настроить авторизацию post card а можно сделать тем как сделать темам во первых просто берете то чтобы разработана rabota.ru жидкой от следующий шаг тоже занимаете у меня разработать толкли которое изначально против таком функционале замена двигателя еще будет за две недели я преобразование тему джаз нужно просто разделил две части развернуты на две части одну часть медитируем но важный момент я использовал 2 русский важных вещей которые облегчили мне я работал клиентов ласка с плутоном сталкиваться грендам это конечно который до этого возможность программировать как пострадали но без труда и иметь проблем это правительство конкор из страны можно ли так делать специальные рисунку не сравним характер то есть мы можем в одном термине сделать и контрольном этапе софт который управляет кластером и некий мониторинг этого мастера который работает работает только дополняет зак специфичные для кошелька вашего конкретного случая раз это очень важно потому что мы из-за того что требование к мастеру нас особенный нам пришлось способен построить немножко мониторинг о том результате перешли на прокатит пуск на первые версии работали лапу на простых газетах через итоговая схема получается вот такая она сейчас может выглядеть немножко сложно даже эти компоненты разнилось на самом деле сущности того что мы просто запускаем японском о каждом сервере которые есть запускаем регистратор и если нам нам нужно запустить 2 темы используя встроенный вкусом на горизонте рода который позволяет захватить один мог его подхватить только один сердце и пока держит сервис пытается крупная но вот как я насколько только один дедом вас может работать параллельно и держим информацию о том где он сохраняться такие реплики таких конкретным она захочет гранде когда вам придется добавлять мониторе зиму продлилась но он был лишь металл потому что примет и раз остальные средства очень хорошо работа способов сад схема наших границ важное замечание к этому всему игрок не раздувайте вождем до нескольких сервис понимаешь что не красная архитектура разрядила но которой есть арка сатору определенной степени коллектору времени хорошо бы ему жить как отдельный понятных один атомарный компания когда у нас сложен систему не зарастет вылету разделится и только тогда когда поймете что там вот мы тут другие разделили сделал эротическая искра тестом просто а сделали настроен которое просто перенаправляет разделяет трафик по нескольким регион то есть нас есть регион от омска до костра по решению такая сложность которая объединяет которые просто только повторяет и pr истратова в одном эти сделали значительно позже через через полгода вот собственно все [музыка] [аплодисменты] я использовал я использую использую если точки входа когда получали список сервисов если у нас землю только раз которые получали список 10 пунктов вот собственно для этого есть то есть в консул это такая штука которая размазана набор простуд и в ней хранится информация о том где есть какие сервисы она и если она просто попасть она значит ну вы сможете получить список простого сможете получить настройку своего класть именно по этим японцем там есть он решает фактически является да причем причем хотел в эти запросы и миром японцам которые у вас на канале по текущим кости а он уже решает этот запустить сервис на сервере которыми низу вот как мой босс узнает собственно какой же требуется серверов на времени народ первого вопроса 2 но без диет запустить один сервис на тут сервере нужны печники решали эту проблему это зависит от вашей стратегии на стратегии просто vegas определяем довольно на это большинстве случаев а полоску мозг знает какие то тренирую того что что один сервис можем слышать и другие плюшки вопроса считаем сердцем расположение и какой у них теоретический удачи а по пятницам докер предоставляет статистику doctor of words спросить сколько сейчас а митино tones конечно использована это кости когда на ночные дальше двигаться мы начали спрашивать у кумитэ rus то есть у продолжим расспросить это реальные данные поэтому мы принесли примет риос в итоге чтобы принимать такие решения что касается выделения и печников мы заранее и настройки всех этих физических ростов названием узнаем какой у нас другая диапазоны адресов и просто прописываем регистратор что он должен задавать диапазоны вай и он диапазона выделяет и спорт но принцип такой же вопрос она а преимущество возможности проверять состояние не записано оно ничем управлять описание спросить какие сервисы есть у него и сам не тела то есть они следят за их структуры того что разворачивается то есть вопрос в общем другой по вашему чем он все-таки лучше тех оркестра и чем хуже очень просто в конском работы по моему опыту production использовать отступ и самый надежный инструмент он меня разваливался ровно один раз к развалился не критично а все более сложные инструменты на прав купили 10 миллионов тонн вот он может упасть и чтобы носитель делать то же самые строки докер регулярно подряд об этой системе нужно что-то надежно вот я считаю что докер можно упасть я делю на толщину что-то каждой конкретной только все может мне все свои сервисов ски для разных нас ты я рассчитываю на то что пользователь инструмент который ящик включали вопросе когда один сервис и будет запускаться на группе саратов то есть до отказа я не к чувственному моя которые на тех его здесь музыку у меня про также не то есть нужно при этом нам когда вы реалист вы решите его реализованы по такой схеме это делать очень просто но вам нужно очень четко понимать свои усы системе решительно сделать отказоустойчивая для ментами можете это не сложно просто с полон сами помечаете что этого стопам туда не к установке дарение подарка шум оркестра то ли мы должны просто при создании сказать такому до меня я приду всех который не приближались там уже доменами такая паника и есть и поскольку я запускаю как взрывные пара поставлю я сразу нашел этого города страны это было частью разработок которая проделала 23 недели существу
