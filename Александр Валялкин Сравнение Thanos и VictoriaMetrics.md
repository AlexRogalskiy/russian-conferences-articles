у про классные штуки такие как виктории

метры капитанов толще знать что такое

круто много ли здесь знает а кто больше

знает что такое то нас решеткой и

периметре делать давайте лекторий метре

кто знает сегодня знали где

apart она слышит только лежит меньше

нормально окей я надеюсь прокормить все

слова да ну я тоже расскажу них

приправить из так что такое про металл

эта система мониторинга которая собирает

метрики какие-то торги то и сохраняет их

local storage после это она умеет

записывать это метрики прямому сторож

умеет собирать солер и риккарди наружу и

все но пролетаю средства ограничения у

него нет нет global кого review

это когда у вас есть несколько метаются

независимых они собирают метрики и вы

хотите посмотреть сделать запрос поверх

всех этих метрик

собранных сразу frame to us of promise

это не позволяет правительство

производительность ограничено только

одним сервером его нельзя масштабировать

на несколько серверов

не о нем автоматически масштабирует

донецке сортировку вы только можете

вручную разделить ваши таргитай которые

скрепляют между этим приготовил сами и

как-то собирать на низкой сервера и

объем метрик про метаюсь и ограничен

только одним сервером по той же причине

что нему

власти ривера ваться в несколько на

несколько серверов и про метаюсь не

так-то просто организовать сохранность

данных из вас использует про митоз

у вас есть отчёты backup это прометею

соски дано

никого нет но если для сведения у

правительства есть возможность snapshot

of risk of насосов но в мгновенных

насосов ботанских можно сделать бэкап и

тут надо почитать процент этом мало кто

знает и какие же решения для этого есть

решение такие-то нас виктория метрик

супер убираем 3 и cortex про первые два

вы слышали про уберем три и cortex армии

шлялись решена но один человек из

условно тут еще двое трое нормально все

это я сеть решения это решение ремонт

сторож для правительств и они решают

проблему ремонт перечисленная на

предыдущем слайде по разному данная

презентация я расскажу только про первую

два решения это то на тракторе metrics

про уберем три cortex быть подготовлен

доклад на следующие мероприятия или

почитать в интернете итак начнем

периметр экситонов

то нас впервые информация про то нас

появилась вот на по этой ссылке им

пробыл там написано архитектура месту

саламандра архитектура то нации как как

он работает как он работает он берет

данная которая сохранил про митоз на

локальный диск и записывает их копируют

ps3 либо глупо у которых либо другой

облик сторож таким образом он

обеспечивает глубокую запрашивать данные

сохраненное в у вас три ветки parameters

of

он поддерживает пранки и api про металл

савская

и он использует код про метался то есть

использовать корочками таз и ноги части

кода проминаются перед пользуются то ну

там и то на самом деле разрабатывает те

же разработчики что и параметров про

лекторий метрик вот это вот ссылка где

мы впервые рассказали что такое

траектория метрик это за бы стремился 2

параметра очевидной ссылки он получает

данные с

promises детский правительство ремоут

right to pee протоколу

поддерживаем про метался также обеспечил

global полюбит так как несколько метров

пишет вадим место в питере метрика и

соответственно вы можете сделать запрос

и поэтому всем данным он также

поддерживает какие-то на промке all i

promise api и

в отличие от таноса виктор метрик скотт

написана с нуля и оптимизированы по

скорости потребляемого и ресурсам и

интермед rex отличие от сансов

масштабируется как вертикально так и

горизонтально то есть сингл но отверстие

есть кластер

который масштабируется вертикально на вы

можете начать одного процессора и

1 гигабайта памяти и постепенно ярости и

драки там до 1 2 и 3 метрик умеет

использовать все эти ресурсы и тем

производительность будет вырастет

примерно старая история танца началась в

ноябре семнадцатого года когда появился

первый публичный камень до этого там

было про

разрабатывалась внутри компании не

пробовал 2019 году в июне все прошло

пару месяцев был релиз знаковые 05 100

на 100

которого брали гасит протокол кто знает

что такое бросив нормально и как вы

считаете это хороший протокол а чего его

брались но его убрали 100 нас и потому

что он себя показал не с лучшей стороны

потому что

постановка неправильно работал

неправильно подключались темноты и

заведу гости протокола поэтому решили

его оттуда брать я считаю что это

правильно сделать том же июня 2015 года

они отправили проползал

складный fondation увлекалась с номером

256 обратите внимание и через пару

месяцев то нас приняли такая организация

которую входит

кибернет да спиртом всякий проекты

популярное которые могут работать и

cortex туда входит и вот приняли то на

слабость 15 года виктор метр аксессуаре

похоже январе 18 года началась

разработка сентябре 18 я впервые

публично упомянул про историю метрик

telegram канале

известно в декабре 18 года публиковали

сингл но отверстию релизе на отверстии

когда она была еще с открытыми

исходниками в мае 19 были опубликованы

исходники как сингл not wear ситов и

кластерной версии в июне также как это

нас мы подали заявку foundation под

номером 5 6 8 рабoтали на один день

раньше чем сама но к сожалению на спор

не приняли туда нужна помощь кормилец

зная чтобы финале там говорить давать и

принимать

эстер метрик

мы рассмотрим самое главное слайда про

архитектуру танцы и виктор метре пока у

нас работает проектов начнем с танца

такой стать все мелко блин это не

поместимся на экран работает так что

нибудь видно из не видно да я буду

рассказывать так посмотрите желтенький

компонента это компоненты параметрами

таился оригинального сам prometheus

менеджер а это что там про метают скрип

и все остальное это компонент это наша

начнем с самого главного компонента вот

этот то на сайт корр это компонент

который останавливается рядом с каждым

про металл сам и он занимается тем что

отложит данные правительство локального

тораджа vs3

также он еще другую функцию дело потом

просто нет позже расскажу

вот этот класс тора сейчас тренаж куда

recaro площадь данных есть еще такой

компонент как то нас торге твой который

умеет считывать эти данные оскал стороны

динамические на входящие запросы

остановка vary the quarry компонент

реализует громкие prometheus офис то

есть снаружи он выглядит как параметр

сможет быстро прекрасен для

правительства в графа не принимает

запрос from hell отправляет его 100 нас

стоге place to на 100 getaway достает

нужная данная из 106 же три назад их

отправляется также но у нас сторож

хранятся данные без последний двух часов

из-за особенности реализации установки

карт который не может скачать закачать

последние два часа

так как это два часа еще про митоз не

создали

файлов и как же это решили обойти

то москва ре кроме запросто станут

только твои отправляет запрос еще каждые

то на старт параллельно

тоже находится рядом с правительством и

атанас татар свою очередь

прокси ru это за запрос дальше фармит

и достает данное за последние два часа

отсюда и возвращайся сюда и tuscany

процессе

бирж и возвращают результат grafana или

какому-то клиенту там попробую сопи

кроме этих компонент есть еще

обязательно не обижаться на опциональный

компонент на без него там будет плохо

чувствует этот она с компакт который

занимается влиянием

мелких файлов на облик сторож более

крупные файлы которые были загружены

отсюда там стать там сапер выгружает

туда файлы размером

стандартного два часа данных и это файл

и если их

не не сливать более крупное то их

количество может вырастить очень

существенна и чем больше таких файлов

тем больше нужно памяти для то на

вторник в

больше нужно ресурсов для передачи

данных по сети всяких метаданных работа

торги твоя

и становится неэффективной поэтому нужно

отдать и на жестком компонент то на

компакт который сжимает данные

нажимает открывает мелкие файлы более

крупные чтобы экипаж был меньше и чтобы

уменьшить совершенно там структуре и

кроме этого есть еще и такой компонент

как то nostru

он выполняет параметр царские root для

полетов и может вычислять

герулы для того чтобы записывать этом

данная основа и этот компонент на

стругах можно использовать не только

стану сам универсальной

вот такая схема простая на тех сравним

со схемой victory метрик периметр xyz

две версии сингл нас три кластерная

версия сингл not работает на одном

компьютере понятно там нет этих

компонентов просто один бинарник этот

бинарник вот тут выглядит этим в

квадрате все что внутри находится это

содержимое бинарных и совсем для афин в

отверстие и вам необязательно про него

знать просто звук ате бинарник и все у

нас работает вот активно отверстие

кластерной версия сложнее

внутри нее находится в три разных типа

компонент select insert и сторож

компоненты из названия должно быть

понятно чем занимается и сер компонент

принимает данные в разных форматах

из параметров ремонт этапе

incline протокола retrofit протокола и

об интриге протокола

принимает их рад по

парсит и распределяет между и имеющимся

vm 100 раз компонентами для данное уже

сохраняется от олег компонент в свою

очередь принимает пропел запроса он

реализует про mpio dunhill и также про

метил , может быть использована как

замена параметров

игра пони или других там правительство

фекла инсов

принимать запрос парсит его

считывает необходимые данные для

выполнение этого запроса из

процессе то данная возвращает аспект

клиентов как-то думать какая спина прочь

так основная основные слайды прошли

теперь можно не бояться

чтобы сезона проектор можем решить

сравним сложность установки томаса

victory начнем статуса сперва перед и

как вообще начать работать с таносом

нужно создать сторож bucket и 2 x 3 либо

был толстый чтобы там ухода данная

записывать потом для каждого про металл

что нужно установить

сокар и однако перед этим не забыв

отключить с контактом про метаются что

такой комплект шин это то что я

рассказал на

вот этом стаде вот компоненты станут

compact который сжимает данные для того

чтобы на облик стары для того чтобы

to masturbate wave меньше потреблял

ресурсов такой же компонент есть похоже

компоненты прямо формировался встроена и

он тоже сама сделает

данными как пишет локальный который

периодически сливают более крупное

данное чтобы уменьшить накладные расходы

так вот когда вы устанавливаете

таноса корр к вашим про microsd вы

должны включить этот комплект потому что

то но сперва не умеет нормально работает

когда включенного приготовился datakam

так что это значит а это означает

означать что ваш по металл начинает

сохранять так адонаи блоками по два часа

и и перестает клевать более крупные

блоки и соответственно если вы сделаете

запросы которые превышают

длительность последние два часа по ней

будет не настолько эффективно работать

по сравнению с тем как могли бы работать

этот был включен там почти которые

получали лишь на вот такая вот

штука нужна такую штуку нужно сделать

когда вы топите работать там автоматика

устанавливается и поэтому то нас

рекомендует уменьшать до тори тоньше

локального столь же это за пару часов до

6 8 часов чтобы на падение большого

количества мелких блог

после того как вы установили там на сайт

корр вы должны для каждого

проводах старых букет баг это установить

два компонента это нас компактор это

настолько твой

упомянуты выше

после этого установите аппарата на

сквере и настроить его чтобы он

считывалась данная умел подключаться к

да на 100 битв ко всем который вас есть

и также ко всем то на сайт харам и тут

может водить небольшая проблемка

вам нужно настроить надежно и защищенное

подключение от этих компонентов если у

вас parameters и находится в равно

дата-центрах либо в разных детишках

соответственно к ним запрещены

подключения извне новом для работы то

нас квари вам нужно как-то настроить

подключение туда и вы должны придумать

способ

образная костери это предлагает для это

и подключи если вас таких дата-центров

которых три параметра много

соответственно снижается надежность всей

системы как у нас квари

должен постоянно держать подключения ко

всем этим то nakaram расположен образных

это центр

приказал стоящим за просим направлять

запросы на 100 коров и какой-то момент

при присоединении придется то

соответственно вы получите новые два

выхода и выполнить что-либо не полный

набор данных либо получить ответ что

система

квартир не работает в victory metrics

немного все проще во всем отверстие

достаточно просто запустить один

бинарник и все работает постер на версии

достаточно запустить все вышеупомянутые

три типа компонентов в любом количестве

необходимом вам количестве либо

использовать

в том sharp до автоматизации запуска

компонент в кибернет

мы еще планируем сделать vibrance

оператор скоро потому что поучавствуем

не покрывает некоторые очки из и

позволяет вам выстрелить ногу спамер он

позволяет уменьшить количество срочно

что придет потери данных и после того

как вы запустили один бинарных либо

квартир на версию вам достаточно

добавить в конфликт про метался ремонт

райт url

чтобы он начал записывать данная

параллельно локальная врач и в ремонт

старых историй вот настройка периметре

как вы заметили эта настройка должна

работать на многое надежнее построению

тонов с настройкой

если у вас есть много параметров разных

дата-центрах

потому что

нам не нужно бежать

подключение от виктории пропитываться

расстраивайтесь потому что параметры

наоборот стали подключать в периметре

рассмотрим

сопровождении dance track to track

у танаса нужно следить за сайт к раме

чтобы они не прекращали загрузку данных

в облик сторож они могут прекратить эту

загрузку данных в вследствие ошибок

загрузки например там у вас временно

прервалась сетевое соединение

сабли стороны либо там сторож временно

стал недоступен то на сектора

соответственно этот момент за месяц это

сообщит об ошибке и может свалиться и

после этого перестать работать и

соответственно если вы не будет

мониторить

перестанут передаваться данные в если

вас пройдет время рита него там 68 часов

рекомендуем это нас кого то

соответственно вы будете терять данные

из которой они попали компактор и могут

перестать работать и из из-за рейсов

факторами как у полочкам факторы берут

данные

столбик также изливают более крупные

куски данных и так как они компактор не

синхронизированы с

соответственно может произойти так лучше

что декарт

не успел еще дописать блок новый блок

почти записал но там несколько файлов

там записал атанас компактор решил

решает что этот блок полностью записано

начинает его считывать и считывать не в

полном виде

и перестает работу устройства могут

отдавать не консистентная данная из-за

рейсов между com факторами этой стороны

тут такая же штука потому что враги твои

никак не синхронизирован с факторами

секторами соответственно могут возникать

рейсы когда он не видит часть данных

либо

визит слишком много данных пришли к варе

компонент то нас и по умолчанию отдает

частичный результат если некоторые

секторы либо стороны битвы не доступны в

данный момент

вы получите часть данных или даже не

будет означать что вы не колокол упал

чтения все данные это работает он вам

так по умолчанию представит арендующих

работает на там она возвращает помечает

это данные как частичное в отличие от

фанов

и

теперь переходим в отличие от таноса

виктория метрик редко терять данные даже

если

прервалась подключение отправителя к

виктории метрик то не проблема так как

prometheus продолжается записывать

поступающие новые данные в right ahead

лак который размер которого равен двум

часам и если вы в течении двух часов

восстановится исключение к виктории

метрик 100 данная не потеряются

providers умея такой данная написано

восстановление подключения при кометы

и в отличие от ануса которые записывают

только данные спустя два часа два часа

тонах не записывать в экстре виктория

про митоз реплицирует автоматически

данные по ремонту рать протоколу

в ремонт соответственно виктор метрик и

вам не страшна по периметру

параметров потерял его которой что вы

лучшем случае потеряете там парусе

последних секунд данных тройник или

в отличие от то на среди вы потеряете

два счета да ну и бернес автоматически

управляет постеров сложно настроиться

его выбирать все поместить в один

cabernet фактор это можно сделать

например нас мастеров по одному костерок

квартиру на каждый prometheus со styko

рам и один кластер даже в котором будет

торге play квари компоненты компактор а

то есть намного сложнее тем предметом

без поста примерно с мастером будет

работать электрометрии

очень простое обновление на новой версии

просто берете перезапускает бинарники

меняется робина региона в старой

бинарники искать новые при остановке

через feeding сигнал все бинарники

примет rex белых угрей с push up down

у пирса не там правильно сохраняет нужны

данные виды вы закрывать входящее

соединение чтобы ее не потерять и

поэтому вы ничего не прядь при

обновлении

и виктор метрик очень просто расширять

фактор просто добавляется необходимо

компонента когда необходимо продолжать

рабов

подводные камни и там и там подводные

камни и что я уже рассказывал что примет

изложен хранить данные последние два

чисто

если они потеряют соответственно

полностью потерять что они еще не . 3

итоге твоей компоненты и

[музыка]

компактор компонент может требовать

много памяти для работы с большими воды

storage bag там если там хранится много

файлов мелких приговорил чем больше

количество файлов тем больше требуется

оперативной памяти

других фейкам фактор для хранения

миллиметра информацию найти еще

танос и почитать и еще по поводу того

что танцы гитаре и фактор падают при

средних объемов записанного данных будут

очень много пони и такая штука вот

там-то нас

рекламирует что он может перец

бесконечно на количество ваших заметил в

производительности или фонтан деле это

неправда так как все запросы идут через

твари компонент который должен у

параллельно просить торге твои

компонента и все-то насыпят компоненты

вытянута туда данные об атомах там про

процессе

и очевидно что скорость

запросов ограничено самым медленным

ладно

стал медленным только своим либо стал

медленно данный сектор и эти компоненты

могут неравномерном нагружены например

вас есть про видео с которым там

собирают миллионы метров секунду где

странице сказал собирается тысячами

других взрыва пронизав миллиона собирают

на три секунды он загружен намного

сильнее загружает комплектом он работает

соответственно там на сайт картам

медленнее работает и вообще за медленно

работает и software компонент будет

очень медленно оттуда данная вытягивает

большой объем данных по стране другим

там где там записывать соответственно

вас на производительность вашего всего

poster а то нос будет ограничен этому

медленным тону фактором

и я уже про это упоминал по умолчанию то

нас дает частичное давно если некоторые

факторы и либо только твои недоступное

доступным должны уже были понять

предыдущих слайдах если у вас останутся

коробки данная по всему миру разных

оттенков то вероятность разрыва

соединение недоступности некоторый

компонент

сильно возрастает и соответственно

большинстве случаев будет получать

частичная данная даже не зная об этом

инструменте кто-то из подводная кому

первый подобный камень этого опция

который ограничивает объём оперативной

памяти используем под крыши инструмент

по умолчанию на равна 60 процентов

оперативной памяти на машине где виктор

метрик запущена либо на кибернет

[музыка]

пользуясь периметре да .

и если неправильно поменять это значение

то можно угробить производительность

которых например искусное слишком низкое

значение то

данная перед могут перестать помещаться

cash back the remixes за это ей придется

делать лишнюю работу и соответственно же

награждать или на процесс старый диск

если вы сделать и отток слишком большой

потом себе моста сто процентов то это

повышает во-первых вероятность того что

в периметре будет вылетать

out of memory и во-вторых это будет

приводить толсто

операционки семья будет оставаться очень

мало памяти оперативной памяти для

файлового кэша а victory метрика очень

сильно полагается на файл окажется для

производительности файла каша пиратов

если его недостаточно то соответственно

будет замок дурости сильно нагрузка на

диск

шпинне запись

поэтому совет не менять параметры если

бы стране необходимо 2 pc to retouch на

период которые по умолчанию выставлен 8

месяцев время в течение которого кормили

сохранить данные после этого эти данные

эфир она удаляет многие допускают

периметр и без этого параметры и

записывал до нас еще и месяца вот он

счастлив а чего они пропали в этом за

предыдущий метод потому что рита решим

по умолчанию в месяц обязательно знать и

устанавливать правильно рычащим

пройдет по уникальных и чем у то нас

есть такая фича как далсим

пятиминутное часовые интервалы

которые зачастую не правильно работает

если погуглить посмотреть еще с на

гитаре что там очень много еще 20 просто

что он иногда неправильно работает либо

не работать не так как ожидают

пользователь

это на срезе дупликация данных для

прометей

2 prometheus а собирают одни и те же

метрики

паразитов и складывают их товарищ там

сумеет правильно ли дублировать эти

данные в отличие от виктории утонувшие

соли alert компонент про который был

разностями но этот же allure компонент

подходит директорий metrics можете

использовать и данное преимущество

что общий код танос и promises

разработана 9 разработчиками и

соответственно при

улучшениях лигов нанося либо фармить

выигрывает подписано другая страна

проведет либо там

ну и керамика главная только там выбран

пел

расширенный промывка то про который

рассказывал в предыдущем big money feat

метаться

[музыка]

victory метр x поддерживает заливку

данных по множеству разных протоколов не

только может принимать данные от

правительства мной купаться

hdd и графита этим протоколом о климате

система спартакова и данные витер метрик

занимаются обычные намного меньше места

последний установкам правительством и не

версии плотин толково брайана то

правильно brazil от последнего прав он

одел всего что данная занимает

одинаковое место в правительстве что

ethernet и потому что он записывал

рандомное данная которая в реальных

системах мониторинга редко встречаются и

такие рандомное данные они вообще не

сжимаются поэтому соответственно итер

metrics и не смогла и сжать и как и

правительстве и соответственно

получились одинаковые результаты если

записать реальные данные в пользователи

говорят о двукратном 3 равно пятикратном

уменьшение размера данных на диске

patroned пронесется

и соответственно танцы пользуется

пронесет

но и еще одно преимущество и периметре

что она презирала повторы про стоимость

инфраструктуры пройдемся

отдать преимущество носа что он

сохраняет данный объект врач который

сравнительно дешевой я заказал что

стоимость приблизительно 20 доллара за

терабайт в месяц принять в

быстродействующего выставочно можно

также стране данное более-менее

быстродействующая сторож которые более

дешевых но соответственно от этого может

пострадать ваш производительность ваших

запросов на постере томаса

предстояние данных уже сто раз так же вы

должны оплачивать операции такие как

запись и чтение данных 10 доллара за

миллион операции приблизительно

и передачи данных когда вы записываете

данные штанов вы оплачиваете

соответственно расходы

вашего охотника на оплот api данных в

интернет

если это на шпатель находится не там и

когда учитывается данная бедра и

откуда-либо мадонна захватом вы

оплачиваете от 10 до 230 долларов завтра

based on и дома и это может быть

существенно .

если вы запрашиваете исторические данные

танов кластера

также для the last снова нужно

оплачивать

сервера для компактор оскорбит фейковой

компонент который требует много памяти

цепью для больших объемов данных

да parametric с прохода такие

[музыка]

если хранить данные в степи диска

упал дисков то не стоит сорок долларов

за заработка от обычной одесской интер

метре достаточно обычная жизнь дисков не

нужны никакие который раз пять дороже

что она оптимизирована подожди здесь и

соответственно для виктора метрики нужно

сервера для компонент либо персик либо

квартирный компонент который в отличие

от танков компонент требует намного

меньше грамм соответственно не будет

дешевле пример внедрения рассмотрим это

наша главная премьера внедрение to get

love

но там полностью работает на то нас но

там не все так гладко если посмотреть

поищи там поискать оба все еще открыты

можете зайти с ним приапа это еще и

посчитать что у них постоянно возникают

какие-то операционные проблемы станут

вам не хватает памяти для строки

кого-либо квари компонент они постоянно

там приходится им увеличивается объем

памяти соответственно вещества и расходы

на это постоянно какие то проблемы но

неё не очень успешное внедрение досказал

и второе внедрение которое может быть

более успешно это компанией пробовал

которые начали разработала танос и они

опубликовали sonic и его и там после

этого отказаться от этой компании и

пробовал компания занимается разработкой

движков для игровых игровых движков и

похоже они там где-то может быть

нормально используется она моя

неуверенность обратно на 100 конечно еще

куча других примеров внедрения я точно

не знаю даже который метрик

публичные примеры внедрения это wix.com

конструктор сайтов слышали

adidas внедряет историк и даже сделал

доклад на последнем пром коне и надеюсь

что скоро опубликую слайды видео

нормально потому что то что видео не

записали на какой-то там не очень

качественная трафик stars компания это

одна нам cz какой то поисковик

популярные чешские а дальше пошли

ноунейм компании которых нет ни новой

компании эта компания который я не могу

назвать сейчас

не дали согласие на это есть один

крупный разработчики игр крупнее чем им

пробовал пасторское крупно разработчики

графического

крупный российский банк а потом может

клара твой сын дагестане кредит если еще

производитель ветряных турбин

европейский который успешно

протестировал victrix сейчас уже

внедряет для мониторинга данных

полученных ветряных турбин то скорость

этом писал сэмплов секунды на каждый

датчик кабинетом понятен даче у них там

3 или 5 8 ветераны хирурги и они

довольно интернет работает и что не

может быть ни одна пройти против не знаю

что крупная это я просто в этом слабо

разбираюсь просто

может быть и крупных может быть

двести-триста другими нарисовать пару

сотен

турбина то ветряных не знаю круг мел и

если еще у нас российские авиалинии

которые хотят внедрить виктор и метрика

17 никак не могут

поднимем остались договор

выводы такие что victory metrics это нас

решают похожие задачи но по разным

способам

это глубокое view масштабирование

горизонтальная и произвольно решил

спасибо
